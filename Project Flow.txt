
Phase1.0:

python - <<'PY'
import secrets
s=secrets.token_hex(32)
print("Paste this into backend/.env as JWT_SECRET:", s)
PY

docker compose down -v
docker system prune -af
docker compose up --build

docker inspect --format='{{json .State.Health}}' farmer-backend | jq


 SEED_ADMIN_EMAIL: str = "admin@agrimanage.com"
    SEED_ADMIN_PASSWORD: str = "admin123"
	
	
	
	Phase 1.1:
	
curl -s -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}'
  
  curl -s -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}'

  
  

read -s TOKEN   run this command and paste the token
echo ${#TOKEN}





docker compose down
docker compose up --build -d
docker ps


docker compose down -v
docker compose build --no-cache
docker compose up



"Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}'
{"access_token":"

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJleHAiOjE3NjEyMDg5NjB9.lD-zbyM51L2Jz4Acb6c5XD8HEwnOXSufeFXZ2834-L8


","refresh_token":"

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJyZWZyZXNoIiwiZXhwIjoxNzYxODExOTYwfQ.66Rx8vWr5DylDixqvTrx6Gd3uLsbZP4oR75V3Doj5aY


","token_type":"bearer","user":{"email":"admin@agrimanage.com","roles":["ADMIN"]}}@AmanR0718 ➜ /



REFRESH=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJyZWZyZXNoIiwiZXhwIjoxNzYxODExOTYwfQ.66Rx8vWr5DylDixqvTrx6Gd3uLsbZP4oR75V3Doj5aY

curl -s -X POST http://localhost:8000/api/auth/refresh \
  -H "Content-Type: application/json" \
  -d "{\"refresh_token\":\"$REFRESH\"}"



eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJleHAiOjE3NjEyMDk0NjJ9.ybse1PRjKxpFEUmQBh57PUTmDoG_mUAyG6T08wF8IPw


ACCESS=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJleHAiOjE3NjEyMDk0NjJ9.ybse1PRjKxpFEUmQBh57PUTmDoG_mUAyG6T08wF8IPw

curl -s -X GET http://localhost:8000/api/auth/me \
  -H "Authorization: Bearer $ACCESS" | jq





@AmanR0718 ➜ /workspaces/Phase1 (main) $ curl -s -X GET http://localhost:8000/api/farmers/ \
  -H "Authorization: Bearer ${ACCESS}" | jq
  
  
  
{
  "count": 0,
  "results": []
}
@AmanR0718 ➜ /workspaces/Phase1 (main) $ 



phase 1.4

docker logs farmer-worker -f


ZM12345678_photo.jpg


git remote -v
git remote set-url origin https://github.com/AmanR0718/Phase1.git

git add .
git status
git commit -m "Describe your changes here"
git push origin main




ACCESS=$(curl -s -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}' | jq -r '.access_token')

curl -s -X POST http://localhost:8000/api/farmers/ \
  -H "Authorization: Bearer ${ACCESS}" \
  -H "Content-Type: application/json" \
  -d '{
    "nrc_number": "123456/12/1",
    "personal_info": {
      "first_name": "Jane",
      "last_name": "Doe",
      "phone_primary": "+260970000000",
      "date_of_birth": "1990-05-05"
    },
    "address": {
      "province": "Lusaka",
      "district": "Chilanga"
    }
  }' | jq






docker compose -f docker-compose.admin.yml up -d --build










# Stop all running containers
docker-compose down

# Remove all containers, networks, and volumes (clean slate)
docker-compose down -v

# Optional: Remove all unused Docker images to save space
docker system prune -a --volumes



# Stop all services
docker-compose stop

# Start all services
docker-compose start

# Restart a specific service
docker-compose restart backend

# View container logs
docker-compose logs -f backend

# Execute command in running container
docker exec -it farmer_backend bash

# Remove all containers and volumes (clean slate)
docker-compose down -v

# Rebuild specific service
docker-compose build backend
docker-compose up -d backend

# View resource usage
docker stats

# Remove unused images/containers
docker system prune -a




# When you make changes to backend code:
docker-compose restart backend

# When you make changes to frontend code:
# (No restart needed - hot reload is enabled)

# When you update requirements.txt:
docker-compose build --no-cache backend
docker-compose up -d backend

# When you update package.json:
docker-compose build --no-cache frontend
docker-compose up -d frontend

# View real-time logs while



# 1. Navigate to project root
cd /path/to/your/project

# 2. Build all containers (fresh build)
docker-compose build --no-cache

# 3. Start all services
docker-compose up -d

# 4. Check running containers
docker-compose ps

# 5. View logs
docker-compose logs -f

# 6. View specific service logs
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f mongodb
