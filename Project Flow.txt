
Phase1.0:

python - <<'PY'
import secrets
s=secrets.token_hex(32)
print("Paste this into backend/.env as JWT_SECRET:", s)
PY

docker compose down -v
docker system prune -af
docker compose up --build

docker inspect --format='{{json .State.Health}}' farmer-backend | jq


 SEED_ADMIN_EMAIL: str = "admin@agrimanage.com"
    SEED_ADMIN_PASSWORD: str = "admin123"
	
	
	
	Phase 1.1:
	
curl -s -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}'
  
  curl -s -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}'

  
  

read -s TOKEN   run this command and paste the token
echo ${#TOKEN}





docker compose down
docker compose up --build -d
docker ps


docker compose down -v
docker compose build --no-cache
docker compose up



"Content-Type: application/json" \
  -d '{"username":"admin@agrimanage.com","password":"admin123"}'
{"access_token":"

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJleHAiOjE3NjEyMDg5NjB9.lD-zbyM51L2Jz4Acb6c5XD8HEwnOXSufeFXZ2834-L8


","refresh_token":"

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJyZWZyZXNoIiwiZXhwIjoxNzYxODExOTYwfQ.66Rx8vWr5DylDixqvTrx6Gd3uLsbZP4oR75V3Doj5aY


","token_type":"bearer","user":{"email":"admin@agrimanage.com","roles":["ADMIN"]}}@AmanR0718 ➜ /



REFRESH=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJyZWZyZXNoIiwiZXhwIjoxNzYxODExOTYwfQ.66Rx8vWr5DylDixqvTrx6Gd3uLsbZP4oR75V3Doj5aY

curl -s -X POST http://localhost:8000/api/auth/refresh \
  -H "Content-Type: application/json" \
  -d "{\"refresh_token\":\"$REFRESH\"}"



eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJleHAiOjE3NjEyMDk0NjJ9.ybse1PRjKxpFEUmQBh57PUTmDoG_mUAyG6T08wF8IPw


ACCESS=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBhZ3JpbWFuYWdlLmNvbSIsInR5cGUiOiJhY2Nlc3MiLCJleHAiOjE3NjEyMDk0NjJ9.ybse1PRjKxpFEUmQBh57PUTmDoG_mUAyG6T08wF8IPw

curl -s -X GET http://localhost:8000/api/auth/me \
  -H "Authorization: Bearer $ACCESS" | jq





@AmanR0718 ➜ /workspaces/Phase1 (main) $ curl -s -X GET http://localhost:8000/api/farmers/ \
  -H "Authorization: Bearer ${ACCESS}" | jq
  
  
  
{
  "count": 0,
  "results": []
}
@AmanR0718 ➜ /workspaces/Phase1 (main) $ 



phase 1.4

docker logs farmer-worker -f


ZM12345678_photo.jpg